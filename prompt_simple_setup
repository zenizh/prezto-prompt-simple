#
# A simple theme.
#
# Authors:
#   kami <kami30k@gmail.com>
#

# Load dependencies.
pmodload 'helper'

function prompt_simple_setup {
  prompt_opts=(cr percent subst)

  # Add hook for calling git-info before each command.
  add-zsh-hook precmd prompt_simple_precmd

  # Set git-info parameters.
  zstyle ':prezto:module:git:info' verbose 'yes'
  zstyle ':prezto:module:git:info:branch' format '%F{2}[%f%F{6}%b%f%F{2}]%f '
  zstyle ':prezto:module:git:info:dirty'  format '%F{3}+%f '
  zstyle ':prezto:module:git:info:keys'   format 'prompt' '%b%D'

  # Define prompts.
  PROMPT='%F{6}‚ùØ%f %F{2}%c%f ${git_info:+${(e)git_info[prompt]}}'
  RPROMPT=''
}

function prompt_simple_precmd {
  if (( $+functions[git-info] )); then
    git-info
  fi
}

function prompt_simple_preview {
  prompt_preview_theme 'simple'
}

prompt_simple_setup '$@'
